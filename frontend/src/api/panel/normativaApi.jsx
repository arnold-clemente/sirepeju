import { token_expired, permission_denied } from "components/AxiosError"

export const getNormativas = async () => {
    const response = await axios.get('/api/panel/normativa')
        .then((response) => { return response.data })
        .catch((error) => {
            switch (error.toJSON().status) {
                case 401:
                    token_expired();
                    break;
                case 403:
                    permission_denied();
                    break;
                default:
                    return error
            }
        })
    return response;
}

export const getNormativa = async (normativaId) => {
    const response = await axios.get(`/api/panel/normativa/show/${normativaId}`)
        .then((response) => { return response.data })
        .catch((error) => {
            switch (error.toJSON().status) {
                case 401:
                    token_expired();
                    break;
                case 403:
                    permission_denied();
                    break;
                default:
                    return error
            }
        })
    return response;
}

export const createNormativa = async (normativa) => {
    const response = await axios.post('/api/panel/normativa/store', normativa)
        .then((response) => { return response.data })
        .catch((error) => {
            switch (error.toJSON().status) {
                case 401:
                    token_expired();
                    break;
                case 403:
                    permission_denied();
                    break;
                default:
                    return error
            }
        })
    return response;
}

export const updateNormativa = async (normativa) => {
    const response = await axios.post(`/api/panel/normativa/update`, normativa)
        .then((response) => { return response.data })
        .catch((error) => {
            switch (error.toJSON().status) {
                case 401:
                    token_expired();
                    break;
                case 403:
                    permission_denied();
                    break;
                default:
                    return error
            }
        })
    return response;
}

export const destroyNormativa = async (normativa) => {
    const response = await axios.delete(`/api/panel/normativa/destroy/${normativa.id}`)
        .then((response) => { return response.data })
        .catch((error) => {
            switch (error.toJSON().status) {
                case 401:
                    token_expired();
                    break;
                case 403:
                    permission_denied();
                    break;
                default:
                    return error
            }
        })
    return response;
}

